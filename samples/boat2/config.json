{
    "components":
    [
        {
            "name": "local",
            "model": "pi",
            "type": "board",
            "attributes":
            {
                "digitalInterrupts":
                [
                    {
                        "name": "throttle",
                        "note": "rc1",
                        "pin": "33",
                        "type": "servo",
                        "formula": "(max 0 (/ (- raw 1150) 8))"
                    },
                    {
                        "name": "direction",
                        "pin": "35",
                        "type": "servo",
                        "formula": "(/ (- raw 1500) -4)"
                    },
                    {
                        "name": "speed",
                        "note": "rc3",
                        "pin": "37",
                        "type": "servo",
                        "formula": "(/ (- raw 1500) 4)"
                    },
                    {
                        "name": "left-horizontal",
                        "note": "rc4",
                        "pin": "36",
                        "type": "servo",
                        "formula": "(/ (- raw 1500) -4)"
                    },
                    {
                        "name": "a",
                        "note": "rc5",
                        "pin": "38",
                        "type": "servo"
                    },
                    {
                        "name": "mode",
                        "note": "rc6",
                        "pin": "40",
                        "type": "servo",
                        "formula": "(- 2 (/ (- raw 1100) 390))"
                    },
                    {
                        "name": "encoder-steering-a",
                        "pin": "io23"
                    },
                    {
                        "name": "encoder-steering-b",
                        "pin": "io22"
                    }
                ]
            }
        },
        {
            "name": "steering",
            "type": "motor",
            "model": "gpio",
            "attributes":
            {
                "board" : "local",
                "pins":
                {
                    "dir": "io6",
                    "pwm": "io18"
                },
                "encoder": "encoder-steering-b",
                "encoderB": "encoder-steering-a",
                "ticksPerRotation": 10000,
                "min_power_pct" : 0.2
            },
            "depends_on":
            [
                "local"
            ]
        },
        {
            "name": "thrust",
            "type": "motor",
            "model": "gpio",
            "attributes":
            {
                "board" : "local",
                "pins":
                {
                    "dir": "io25",
                    "pwm": "io17"
                }
            },
            "depends_on":
            [
                "local"
            ]
        },
        {
            "name": "squirt",
            "type": "motor",
            "model": "gpio",
            "board" : "local",
            "attributes":
            {
                "board" : "local",
                "pins":
                {
                    "dir": "io12",
                    "pwm": "io27"
                }
            },
            "depends_on":
            [
                "local"
            ]
        },
        {
            "name": "gps1",
            "type": "sensor",
            "subtype": "gps",
            "model": "nmea-serial",
            "attributes" : {
                "path" : "/dev/ttyAMA0"
            }
            
        },
        {
            "name" : "imu",
            "type" : "sensor",
            "subtype" : "imu",
            "model" : "temp-imu"
        },
        {
            "name" : "base1",
            "type" : "base",
            "model" : "viam-boat2"
        }
    ],
    "services":
    [
        {
            "name": "navigation",
            "type": "navigation",
            "attributes": {
                "store": {
                    "type": "mongodb",
                    "config": {
                        "uri": "mongodb://localhost:27017"
                    }
                },
                "gps": "gps1",
                "base": "base1"
            }
        }
    ]
}
